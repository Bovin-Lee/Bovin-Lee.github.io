<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Linux命令</title>
      <link href="/2017/02/16/linux-ming-ling/"/>
      <url>/2017/02/16/linux-ming-ling/</url>
      
        <content type="html"><![CDATA[<p>本套教程主要介绍CentOS6.5和CentOS7的一些命令。</p><h3 id="一、CentOS6-5"><a href="#一、CentOS6-5" class="headerlink" title="一、CentOS6.5"></a>一、CentOS6.5</h3><h4 id="1-基础指令"><a href="#1-基础指令" class="headerlink" title="1. 基础指令"></a>1. 基础指令</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.<span class="built_in">date</span>  日期  Tue Nov 27 02:55:04 CST 2018</span></span><br><span class="line">格式化日期： date “+%Y/%m/%d %H:%M”  2018/11/2702:57</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.cal   日历</span></span><br><span class="line">指定某月  cal 09 2018</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.bc  计算器</span> </span><br><span class="line">scale=2  (2为指定保留小数的位数)</span><br><span class="line">quit退出计算器</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.Tab 命令补全 在一串指令的第一个字后面按两次    c</span> </span><br><span class="line">Tab 文件补齐  在一串指令的第一个字后面按两次ls -a ~/.bash</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5.Ctrl+c  命令行跑动不停</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">6.Ctrl+d  键盘输入结束，离开文字接口，相当与<span class="built_in">exit</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">7.Shift+PU/PD  纯文本翻页</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">8.--<span class="built_in">help</span>  查询命令使用方式<span class="built_in">date</span> --<span class="built_in">help</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">9.man  操作说明  man <span class="built_in">date</span></span></span><br><span class="line">q  退出</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">10.<span class="built_in">cd</span>进入到目标目录</span></span><br><span class="line">cd /etc   //进入到etc目录下</span><br><span class="line">cd sysconfig   //在etc下执行，进入到/etc/sysconfig下</span><br><span class="line">cd ./   // 当前目录</span><br><span class="line">cd ..   //返回上一级目录</span><br><span class="line">cd ~   // 进入到用户的家目录，如果是root用户，则进入/root目录</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">11.<span class="built_in">pwd</span>打印当前所在目录</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">12.<span class="built_in">ls</span>  -a  显示隐含文件</span></span><br><span class="line">ls  -l   长格式输出 </span><br><span class="line">ls -R递归显示 </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">13.<span class="built_in">mkdir</span>  a 创建目录a</span></span><br><span class="line">mkdir -p  a/b/c 创建多级目录</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">14.<span class="built_in">touch</span> file  创建空文件file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">15.<span class="built_in">cp</span>  /绝对路径   相对路径/  复制文件</span></span><br><span class="line">cp -R  /root/a/com/bevin   /root/a/cn/复制文件夹或文件夹下的文件</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">16.<span class="built_in">mv</span> 　myfile  mydir1文件/目录移动到目录</span></span><br><span class="line">mv 　myfile 　myfile2目录/文件改名</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">17.<span class="built_in">rmdir</span> mydir1删除空目录</span></span><br><span class="line">rm  php.txt删除文件</span><br><span class="line">rm  -rf  abc强制删除非空目录 -r递归 -f强制 </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">18.<span class="built_in">cat</span> myfile显示文件内容</span></span><br><span class="line">cat  &gt;  myfile2  为文件加入数据</span><br><span class="line">Ctrl+d 退出输入</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">19.more  分屏显示指定文件的内容(空格键，向后翻一屏；每按一次回车键，向后翻一行)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">20.less 分屏显示指定文件的内容(支持PageUp键向前翻屏，及PageDown向后翻屏)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">21.<span class="built_in">head</span>  默认显示指定文件的头10行的内容</span></span><br><span class="line">head -n 19 /etc/services 显示文件的头19行的内容</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">22.<span class="built_in">tail</span>  /etc/services  默认显示指定文件的末尾10行的内容</span></span><br><span class="line">tail  -n 19 /etc/httpd.conf  显示文件的末尾19行的内容</span><br></pre></td></tr></tbody></table></figure><h4 id="2-用户组管理命令"><a href="#2-用户组管理命令" class="headerlink" title="2. 用户组管理命令"></a>2. 用户组管理命令</h4><p>Linux的用户管理模型:Linux是一个支持多用户远程操作的系统。采用用户组的模式管理用户的权限。</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.groupadd  mygroup1 创建组账号（GID号为已存在GID号的下一个顺序编号）</span></span><br><span class="line">组账号信息在/etc/group文件中，通过cat查看</span><br><span class="line">groupadd -g  999  uGroup1手动指定组账号-g</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.  useradd  user1 创建用户账号</span></span><br><span class="line">/etc/passwd中增加一行，记录用户的用户名、UID号、GID号、主目录、shell等</span><br><span class="line">/etc/shadow中增加一行，记录用户的密码（无密码，须手动加）</span><br><span class="line">/home/user1中增加一行，自动为用户创建相应的主目录</span><br><span class="line">例：useradd  -u  600  -g  mygroup1  -G mygroup2  -d  /home/student1  s1</span><br><span class="line">-功能：创建用户s1，其中参数</span><br><span class="line">-u指定UID号为600；</span><br><span class="line">-g指定用户的主要组为mygroup1或GID；</span><br><span class="line">-G指定用户的附加组为mygroup2，每个用户可以有多个附加组；</span><br><span class="line">-d 指定用户的主目录为/home/student1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.  userdel  u1 删除用户</span> </span><br><span class="line">userdel  -r  u1 删除用户的同时删除其主目录</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.  groupdel  mygroup2   删除指定的组</span></span><br><span class="line">当某个组是某现有用户的主要组时，则不能被删除</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5. passwd u 为用户u添加密码</span></span><br><span class="line">passwd  -l  user1 禁止用户登录  -l加锁</span><br><span class="line">passwd  –u  user1  恢复用户登录</span><br><span class="line">passwd  -d  user1恢复用户密码</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">6. usermod  -u  601  -g 501  s1    修改用户s1的UID 和 组GID</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">7. <span class="built_in">id</span>  u1    显示用户u1的UID、GID及所属的组信息</span></span><br></pre></td></tr></tbody></table></figure><h4 id="3-文件属性操作命令"><a href="#3-文件属性操作命令" class="headerlink" title="3. 文件属性操作命令"></a>3. 文件属性操作命令</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.chown  user1  hello.txt   改变文件的属主(属于哪个用户)</span><br><span class="line">chown  -R  user1  mydir 递归改变文件的属主（深入到指定目录中的每一层）</span><br><span class="line">chown -R useres:groupes   递归的改变文件的属于某个组的属主ues</span><br><span class="line">例：chown -R ues:ges /usr/elasticsearch-6.4.0/ </span><br><span class="line">2.  chgrp  mygroup1  hello.txt 改变文件的属组 </span><br><span class="line">chgrp  -R  mygroup1  mydir  递归改变文件</span><br><span class="line">3.  chmod——字母方式</span><br></pre></td></tr></tbody></table></figure><p><img src="/Linux%E5%91%BD%E4%BB%A4%5C1.png" alt="1"></p><blockquote><p><code>u</code>针对属主、g针对属组、o针对其他用户、a针对所有用户</p><p><code>=</code>表示赋予（设置）指定权限，要注意它会覆盖原权限</p><p><code>+</code>表示在原有权限的基础上增加指定权限</p><p><code>-</code>表示在原有权限的基础上去掉指定权限</p><p><code>chmod  u+x  hosts</code>   为文件host的属主增加执行权限。（u为属主）</p><p><code>chmod  g-w, o=x  hosts</code></p><p>功能：将文件host.conf的属组去掉写权限，同时将其他用户设置为只有执行权限，而文件属主的权限不变</p><p><strong>chmod——数字方式</strong></p><p><code>r ---4  w--2  x---1</code></p><p><code>chmod  764  host.conf</code>  </p><p>功能：将文件host.conf的权限设置为：</p><p>属主拥有全部权限；</p><p>属组拥有读写权限；</p><p>其他用户拥有只读权限。</p></blockquote><h4 id="4-建立文件链接的命令"><a href="#4-建立文件链接的命令" class="headerlink" title="4. 建立文件链接的命令"></a>4. 建立文件链接的命令</h4><h5 id="4-1-ln命令—建立硬连接"><a href="#4-1-ln命令—建立硬连接" class="headerlink" title="4.1 ln命令—建立硬连接"></a>4.1 ln命令—建立硬连接</h5><p>特点： 硬连接不支持目录的操作。  删除源文件(原始引用),不影响硬连接的操作。</p><p><img src="/Linux%E5%91%BD%E4%BB%A4%5C2.png" alt="2"></p><blockquote><p><code>ln  myfile  myfile.hlink</code>  为文件myfile创建名为myfile.hlink的硬连接（是ln，不是in）</p><p><code>ls  –il</code> 命令可以看出myfile与myfile.hlink的i节点号（最左面的数）是一样的</p><p><code>180590 -rw-rw-r--  2  user1 user1   12 Aug 17 12:14 myfile</code></p><p><code>180590 -rw-rw-r--  2  user1 user1   12 Aug 17 12:14 myfile.hlink</code></p></blockquote><h5 id="4-2-ln命令—建立符号连接（软连接）"><a href="#4-2-ln命令—建立符号连接（软连接）" class="headerlink" title="4.2 ln命令—建立符号连接（软连接）"></a>4.2 ln命令—建立符号连接（软连接）</h5><p>特点： 软连接同时支持文件和目录的操作。 删除源文件， 会导致软连接不可用。</p><p>通过操作软连接，修改文件的内容，本质上还是修改的源文件的内容。</p><p><img src="/Linux%E5%91%BD%E4%BB%A4%5C3.png" alt="3"></p><blockquote><p><code>ln  -s  myfile  myfile.slink</code>  为文件/目录myfile创建名为myfile.slink的符号连接</p><p><code>rwxrwxrwx. 1 root root   6 Nov 27 10:04  a -&gt; myfile</code>的属组（深入到指定目录中的每一层）</p></blockquote><h4 id="5-网卡配置命令"><a href="#5-网卡配置命令" class="headerlink" title="5. 网卡配置命令"></a>5. 网卡配置命令</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.  ifconfig（CentOS7: ip addr）  显示网卡参数的配置情况，包括IP地址、子网掩码、广播地址等。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.  ifconfig  eth0  10.22.1.103  netmask  255.255.255.0</span></span><br><span class="line">功能：设置网卡eth0的IP地址为10.22.1.103、掩码为255.255.255.0。</span><br><span class="line">lo是环回测试网卡的名称</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.  ifconfig  eth0  down  禁用网卡eth0。</span></span><br><span class="line">说明：此时再用不带参数的ifconfig命令是不能显示eth0的信息的，需要加上参数“-a”才可显示被禁用的网卡信息。</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.  ifconfig  eth0  up   激活网卡eth0</span></span><br></pre></td></tr></tbody></table></figure><h4 id="6-查找命令"><a href="#6-查找命令" class="headerlink" title="6. 查找命令"></a>6. 查找命令</h4><blockquote><ol><li><p><code>which  ls</code> 显示命令的绝对路径。只能在指定的目录中去查找命令或程序。</p></li><li><p><code>whereis  ls</code> 查询命令所在目录以及帮助文档所在目录</p></li><li><p><code>find  /目录  -条件  "参数"</code>  按要求查询</p></li></ol><p>目录：</p><p><code>/</code>目录:指定的目录</p><p><code>/</code>:根目录</p><p><code>.</code>:当前目录</p><p>条件： </p><p><code>name</code>:文件名  参数：支持通配符<code>（as*）</code></p><p><code>type</code>:文件类型  参数：f(文件类型) d(目录类型) l(连接类型)</p><p><code>size</code>:文件大小  参数：块大小(1块=512字节)</p><p>其它可以使用的单位有c（字节）、w（双字节）、M（兆字节）和G（吉字节）。</p><p><code>cmin(分钟)/ctime(天)</code>:修改时间  参数：时间<code>（+5/-5/5）</code></p><p><code>+</code>：时间以外，<code>-</code>：时间以内，不带<code>+</code>或<code>-</code>，则认为整时间</p><p><code>perm</code>:文件权限        参数：文件权限的数字表示<code>（+775/-775/775）</code></p><p><code>+</code>:满足775中任何一种权限的文件, <code>-</code>:至少满足755的文件,不带：恰好满足的</p></blockquote><h4 id="7-内容过滤"><a href="#7-内容过滤" class="headerlink" title="7. 内容过滤"></a>7. 内容过滤</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.   grep  "bind"  host.conf     在文件host.conf中查找包含字符串“bind”行。</span><br><span class="line">2.   grep  "network"  /etc/*.conf   利用通配符可在多个文件中查找包含特定的字符串的行。</span><br><span class="line">3.   grep  -v  "network"  /etc/nsswitch.conf   查找/etc/nsswitch.conf文件中不包含字符串“network”的行</span><br><span class="line">4.   从一个命令的结果集中过滤内容： find . -type f  |  grep “条件”</span><br><span class="line">按照grep指定的条件， 从find . -type f 查询的结果集过滤内容 </span><br></pre></td></tr></tbody></table></figure><h4 id="8-打包（备份-压缩"><a href="#8-打包（备份-压缩" class="headerlink" title="8. 打包（备份)/压缩"></a>8. 打包（备份)/压缩</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. tar  -cvf  myetc.tar  /etc     将目录/etc打包为一个名为myetc.tar的文档</span><br><span class="line">功能：  </span><br><span class="line">参数-c的功能是打包（创建），</span><br><span class="line">参数-v是显示处理过程，</span><br><span class="line">参数-f是用来指定文档名；</span><br><span class="line">2.  tar  -zcvf  myetc.tar.gz  /etc  将目录/etc打包并压缩为一个名为myetc.tar.gz的文档</span><br><span class="line">功能： </span><br><span class="line">其中参数-z是调用gzip命令来压缩，扩展名为gz，</span><br><span class="line">参数-Z是调用compress命令来压缩，扩展名为Z，</span><br><span class="line">参数-j是调用bzip2命令来压缩，扩展名为bz2。</span><br></pre></td></tr></tbody></table></figure><h4 id="9-rpm命令"><a href="#9-rpm命令" class="headerlink" title="9. rpm命令"></a>9. rpm命令</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.  rpm -qa  查询系统中安装的软件包列表，-q------查询，-a-----所有的</span><br><span class="line">2.  rpm  -ql  php   查询已安装的软件包php中的文件列表，-l-----列出指定软件包中的文件</span><br><span class="line">3.  rpm  -e  php   卸载已安装的软件包php   -e-----卸载</span><br><span class="line">请注意执行上述命令时，采用的身份是不同的，普通用户只能执行查询操作。 </span><br><span class="line">4.  rpm  -ivh  php-4.3.9-3.1-i386.rpm    安装软件包php</span><br><span class="line"> -i-------安装，-v-------显示处理过程，-h------显示“#”来表示进度。</span><br><span class="line">5.  rpm  -ivh  --force  php-4.3.9.rpm 强制安装软件包，--force------强制</span><br><span class="line">如果要安装的软件的版本比较低或该软件包在系统中已存在，系统会给出提示并拒绝安装，此时可以加上参数—force来进行强制安装。 </span><br><span class="line">6.  rpm  -ivh  --nodeps  php-4.3.9.rpm  安装软件包时忽略与其它软件包的依赖关系，参数--nodeps表示忽略依赖关系。</span><br><span class="line">在安装或卸载软件时经常会遇到提示“该软件包与某某软件包存在依赖关系”，只有加上参数--nodeps忽略掉依赖关系才能进行安装或卸载。</span><br><span class="line">7.卸载</span><br><span class="line">首先通过&nbsp; rpm -q &lt;关键字&gt; 可以查询到rpm包的名字</span><br><span class="line">然后 调用 rpm -e &lt;包的名字&gt; 删除特定rpm包</span><br><span class="line">遇到依赖，无法删除，使用 rpm -e --nodeps &lt;包的名字&gt; 不检查依赖，直接删除rpm包   </span><br></pre></td></tr></tbody></table></figure><ol start="10"><li>Centos6.5 关闭防火墙</li></ol><p><img src="/Linux%E5%91%BD%E4%BB%A4%5C4.png" alt="4"></p><p>查看防火墙状态：service iptables status </p><h4 id="11-进程操作命令"><a href="#11-进程操作命令" class="headerlink" title="11. 进程操作命令"></a>11. 进程操作命令</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 查看所有的进程信息: ps -ef</span><br><span class="line">2.  杀掉进程： kill -9  PID</span><br><span class="line">3.  ps  -aux  查询系统中所有运行的进程，包括后台进程，其中参数a是所有进程，参数x包括不占用控制台的进程，参数u显示用户</span><br><span class="line">4.  pstree   以树状格式显示系统的进程列表。</span><br><span class="line">    pstree  -p   以树状格式显示系统的进程列表，并标识出每个进程的进程号。</span><br><span class="line">5.  top   动态地显示系统中的进程</span><br></pre></td></tr></tbody></table></figure><h4 id="12-文本编辑命令-vim"><a href="#12-文本编辑命令-vim" class="headerlink" title="12. 文本编辑命令 - vim"></a>12. 文本编辑命令 - vim</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1. vi 文件   对文本文件进行编辑。</span><br><span class="line">- 如果指定文件名的文件存在，则进入文件进行编辑</span><br><span class="line">- 如果指定文件名的文件不存在， 则会创建一个新文件，并进入编辑。 退出是需要输入 :wq!保存新创建的文件。</span><br><span class="line">2.  vi 的详细使用：</span><br><span class="line">① 普通命令模式</span><br><span class="line">- 删除当前行 ： dd</span><br><span class="line">- 删除多行  :  ndd</span><br><span class="line">- 复制当前行 ： yy</span><br><span class="line">- 复制多行： nyy</span><br><span class="line">- 粘贴： p</span><br><span class="line">- 撤销：  u</span><br><span class="line">- 光标定位到文档首行 ： gg</span><br><span class="line">- 搜索指定字符： /字符(向下查找) | ?字符(向上查找)</span><br><span class="line">查看下一个匹配，按下n(小写n)</span><br><span class="line">跳转到上一个匹配，按下N（大写N）</span><br><span class="line">② 底线命令模式</span><br><span class="line">- 退出 ：q! </span><br><span class="line">- 退出并保存 :wq!</span><br><span class="line">③ 编辑模式 : 在普通命令模式下输入 i </span><br></pre></td></tr></tbody></table></figure><ol start="13"><li>其他命令</li></ol><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.cat /etc/system-release  查看CentOS的版本</span><br><span class="line">2.uname -a  查看CentOS的位数</span><br><span class="line">3.CentOS7.3 关闭防火墙  systemctl stop firewalld.service</span><br><span class="line">  永久关闭防火墙   systemctl status firewalld.service</span><br><span class="line">4.查看mySql的状态 /etc/rc.d/init.d/mysqld status</span><br><span class="line">  开启Mysql  service mysqld start</span><br></pre></td></tr></tbody></table></figure><h4 id="14-RPM软件包管理"><a href="#14-RPM软件包管理" class="headerlink" title="14. RPM软件包管理"></a>14. RPM软件包管理</h4><p>RPM是RedHat Package Manager（RedHat软件包管理工具）的缩写，这一文件格式名称虽然打上了RedHat的标志，但是其原始设计理念是开放式的，现在包括RedHat、CentOS、SUSE等Linux的分发版本都有采用，可以算是公认的行业标准了。RPM文件在Linux系统中的安装最为简便。</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.  rpm的常用参数 </span><br><span class="line">i：安装应用程序（install）</span><br><span class="line">e：卸载应用程序（erase）</span><br><span class="line">vh：显示安装进度；（verbose   hash） </span><br><span class="line">U：升级软件包；（update） </span><br><span class="line">qa: 显示所有已安装软件包（query all）</span><br><span class="line">缺点:安装软件时当前安装的软件需要大量依赖</span><br><span class="line">例子：rmp  -ivh  gcc-c++-4.4.7-3.el6.x86_64.rpm</span><br></pre></td></tr></tbody></table></figure><h4 id="15-YUM命令"><a href="#15-YUM命令" class="headerlink" title="15. YUM命令"></a>15. YUM命令</h4><p>Yum（全称为 Yellow dog Updater, Modified）是一个在Fedora和RedHat以及SUSE、CentOS中的Shell前端软件包管理器。基於RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">例子（安装需要上网）：</span><br><span class="line">yum  install  gcc-c++</span><br><span class="line">yum  remove   gcc-c++</span><br><span class="line">yum  update   gcc-c++</span><br></pre></td></tr></tbody></table></figure><h3 id="二、CentOS7"><a href="#二、CentOS7" class="headerlink" title="二、CentOS7"></a>二、CentOS7</h3><h4 id="1-firewalld的基本使用"><a href="#1-firewalld的基本使用" class="headerlink" title="1. firewalld的基本使用"></a>1. firewalld的基本使用</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">启动： systemctl start firewalld</span><br><span class="line">关闭： systemctl stop firewalld</span><br><span class="line">查看状态： systemctl status firewalld </span><br><span class="line">开机禁用  ： systemctl disable firewalld</span><br><span class="line">开机启用  ： systemctl enable firewalld</span><br></pre></td></tr></tbody></table></figure><h4 id="2-systemctl服务管理工具"><a href="#2-systemctl服务管理工具" class="headerlink" title="2.systemctl服务管理工具"></a>2.systemctl服务管理工具</h4><p>systemctl是CentOS7的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体。</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">启动一个服务：systemctl start firewalld.service</span><br><span class="line">关闭一个服务：systemctl stop firewalld.service</span><br><span class="line">重启一个服务：systemctl restart firewalld.service</span><br><span class="line">显示一个服务的状态：systemctl status firewalld.service</span><br><span class="line">在开机时启用一个服务：systemctl enable firewalld.service</span><br><span class="line">在开机时禁用一个服务：systemctl disable firewalld.service</span><br><span class="line">查看服务是否开机启动：systemctl is-enabled firewalld.service</span><br><span class="line">查看已启动的服务列表：systemctl list-unit-files|grep enabled</span><br><span class="line">查看启动失败的服务列表：systemctl --failed</span><br></pre></td></tr></tbody></table></figure><h4 id="3-配置firewalld-cmd"><a href="#3-配置firewalld-cmd" class="headerlink" title="3. 配置firewalld-cmd"></a>3. 配置firewalld-cmd</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">查看版本： firewall-cmd --version</span><br><span class="line">查看帮助： firewall-cmd --help</span><br><span class="line">显示状态： firewall-cmd --state</span><br><span class="line">查看所有打开的端口： firewall-cmd --zone=public --list-ports</span><br><span class="line">更新防火墙规则： firewall-cmd --reload</span><br><span class="line">查看区域信息:  firewall-cmd --get-active-zones</span><br><span class="line">查看指定接口所属区域： firewall-cmd --get-zone-of-interface=eth0</span><br><span class="line">拒绝所有包：firewall-cmd --panic-on</span><br><span class="line">取消拒绝状态： firewall-cmd --panic-off</span><br><span class="line">查看是否拒绝： firewall-cmd --query-panic</span><br><span class="line">开启一个端口</span><br><span class="line">添加  firewall-cmd --zone=public --add-port=80/tcp --permanent    （--permanent永久生效，没有此参数重启后失效）</span><br><span class="line">重新载入  firewall-cmd --reload</span><br><span class="line">查看 firewall-cmd --zone= public --query-port=80/tcp</span><br><span class="line">删除 firewall-cmd --zone= public --remove-port=80/tcp --permanent</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux入门</title>
      <link href="/2016/02/15/linux-ru-men/"/>
      <url>/2016/02/15/linux-ru-men/</url>
      
        <content type="html"><![CDATA[<h3 id="1-操作系统的概念"><a href="#1-操作系统的概念" class="headerlink" title="1. 操作系统的概念"></a>1. 操作系统的概念</h3><p>操作系统主要用于管理计算机的硬件以及其他的应用软件。 所有的应用软件必须给予操作系统才能在计算机上运行。  </p><h4 id="1-1-操作系统的分类"><a href="#1-1-操作系统的分类" class="headerlink" title="1.1 操作系统的分类"></a>1.1 操作系统的分类</h4><ol><li><p>运行在PC端： XP 、 windows系列 、 Mac系统(OSX)</p></li><li><p>运行在手机端(移动端)： 安卓、 IOS  </p></li><li><p>运行于服务器端：  Linux 、windows server</p></li></ol><p><strong>服务器通常是指一台安装了服务器软件的高性能计算机。</strong></p><h3 id="2-Linux操作系统"><a href="#2-Linux操作系统" class="headerlink" title="2. Linux操作系统"></a>2. Linux操作系统</h3><ol><li><p>Linux诞生于1991年，作者：李纳斯·托瓦兹（Linus Torvalds）， 是一款类Unix的操作系统， 继承了Unix操作系统的一些特性， 比如Linux也是一款以网络通信稳定 为重心的系统。 </p></li><li><p>Linux的主要应用领域， 服务器上的操作系统。</p></li><li><p>Linux的发行版本：</p><p>国外 ： Ubuntu 、 RedHat 、 Centos 、 Suse 等 </p><p>国内 ： 红旗</p></li></ol><h3 id="3-安装Centos"><a href="#3-安装Centos" class="headerlink" title="3. 安装Centos"></a>3. 安装Centos</h3><h4 id="3-1-准备工作"><a href="#3-1-准备工作" class="headerlink" title="3.1 准备工作"></a>3.1 准备工作</h4><ol><li><p>安装虚拟机软件： VMware </p></li><li><p>安装虚拟机操作系统： 参照安装文档 </p></li><li><p>配置网络环境</p></li></ol><h4 id="3-2-两种联网方式"><a href="#3-2-两种联网方式" class="headerlink" title="3.2 两种联网方式"></a>3.2 两种联网方式</h4><ol><li>桥接</li></ol><p><img src="/Linux%E5%85%A5%E9%97%A8%5C1.png" alt="1"></p><ol start="2"><li>NAT模式</li></ol><p><img src="/Linux%E5%85%A5%E9%97%A8%5C2.png" alt="2"></p><h3 id="4-桥接模式"><a href="#4-桥接模式" class="headerlink" title="4. 桥接模式"></a>4. 桥接模式</h3><p><strong>配置静态IP实际上就是设置虚拟机的网络配置和linux的3个配置文件</strong></p><h5 id="1、首先设置这台linux的网络适配器为桥接模式"><a href="#1、首先设置这台linux的网络适配器为桥接模式" class="headerlink" title="1、首先设置这台linux的网络适配器为桥接模式"></a>1、首先设置这台linux的网络适配器为桥接模式</h5><p><img src="/Linux%E5%85%A5%E9%97%A8%5C3.jpg" alt="img"></p><h5 id="2、查看主机网络配置"><a href="#2、查看主机网络配置" class="headerlink" title="2、查看主机网络配置"></a>2、查看主机网络配置</h5><p>Ctrl + R 打开运行，输入cmd回车，然后输入ipconfig回车：</p><p><img src="/Linux%E5%85%A5%E9%97%A8%5C4.jpg" alt="img"></p><p>记住IPv4地址和默认网关</p><h5 id="3、虚拟机打开第一个配置文件"><a href="#3、虚拟机打开第一个配置文件" class="headerlink" title="3、虚拟机打开第一个配置文件"></a>3、虚拟机打开第一个配置文件</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></tbody></table></figure><p>最后的eth0是网卡名字不是固定的。打开后按照如下修改：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=eth0 #网卡设备名称</span><br><span class="line">BOOTPROTO=static #静态IP的关键 协议类型 dhcp bootp none</span><br><span class="line">HWADDR=00:0C:29:17:01:FC</span><br><span class="line">ONBOOT=yes #启动时是否激活 yes|no</span><br><span class="line">TYPE=Ethernet #网卡类型为以太网</span><br><span class="line">IPADDR=192.168.1.220  #自己设置静态IP，不冲突就可以</span><br><span class="line">NETMASK=255.255.255.0 #网络子网掩码</span><br><span class="line">GATEWAY=192.168.1.1 #在主机配置中看到的默认网关</span><br><span class="line">BROADCAST=192.168.1.255 #广播地址</span><br><span class="line">DNS1=192.168.1.1 #设置和网关一样的值</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">NM_CONTROLLED=yes</span><br></pre></td></tr></tbody></table></figure><h5 id="4、修改第二个配置文件"><a href="#4、修改第二个配置文件" class="headerlink" title="4、修改第二个配置文件"></a>4、修改第二个配置文件</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/sysconfig/network</span><br></pre></td></tr></tbody></table></figure><p>按照如下内容进行修改：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NETWORKING=yes</span><br><span class="line">NETWORKING_IPV6=no #关掉IPv6</span><br><span class="line">HOSTNAME=localhost.localdomain</span><br><span class="line">GATEWAY=192.168.1.1 #默认网关地址</span><br></pre></td></tr></tbody></table></figure><h5 id="5、修改第三个配置文件"><a href="#5、修改第三个配置文件" class="headerlink" title="5、修改第三个配置文件"></a>5、修改第三个配置文件</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/resolv.conf</span><br></pre></td></tr></tbody></table></figure><p>按以下内容修改：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">search localdomain</span><br><span class="line">nameserver 8.8.8.8 #DNS域名解析地址（首选）</span><br><span class="line">nameserver 192.168.1.1 #（备用）可以写成其它比如114.114.114.114</span><br></pre></td></tr></tbody></table></figure><h5 id="6、修改完毕之后重启网络服务"><a href="#6、修改完毕之后重启网络服务" class="headerlink" title="6、修改完毕之后重启网络服务"></a>6、修改完毕之后重启网络服务</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# service network restart</span><br></pre></td></tr></tbody></table></figure><h3 id="5-NAT模式"><a href="#5-NAT模式" class="headerlink" title="5. NAT模式"></a>5. NAT模式</h3><h5 id="1、同样，先设置虚拟机的网络适配器为NAT模式"><a href="#1、同样，先设置虚拟机的网络适配器为NAT模式" class="headerlink" title="1、同样，先设置虚拟机的网络适配器为NAT模式"></a>1、同样，先设置虚拟机的网络适配器为NAT模式</h5><p><img src="/Linux%E5%85%A5%E9%97%A8%5C5.jpg" alt="img"></p><h5 id="2、修改VMware的“虚拟网络编辑器”"><a href="#2、修改VMware的“虚拟网络编辑器”" class="headerlink" title="2、修改VMware的“虚拟网络编辑器”"></a>2、修改VMware的“虚拟网络编辑器”</h5><p>点编辑 –&gt; 虚拟网络编辑器：</p><p><img src="/Linux%E5%85%A5%E9%97%A8%5C6.jpg" alt="img"></p><p>打开之后首先点击NAT模式，然后去掉下面DHCP的勾，然后点击NAT设置：</p><p><img src="/Linux%E5%85%A5%E9%97%A8%5C7.jpg" alt="img"></p><p> NAT默认设置了110网段，这个可以修改，修改的话要统一修改不要落下。没有特殊需求就不要修改了。</p><p> 打开NAT设置面板之后，记住下面红框中这个IP：</p><p><img src="/Linux%E5%85%A5%E9%97%A8%5C8.jpg" alt="img"></p><h5 id="3、设置完成后，启动虚拟机，修改第一个配置文件，这次要按照NAT设置中的IP进行配置"><a href="#3、设置完成后，启动虚拟机，修改第一个配置文件，这次要按照NAT设置中的IP进行配置" class="headerlink" title="3、设置完成后，启动虚拟机，修改第一个配置文件，这次要按照NAT设置中的IP进行配置"></a>3、设置完成后，启动虚拟机，修改第一个配置文件，这次要按照NAT设置中的IP进行配置</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></tbody></table></figure><p>按如下改动：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=eth0</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">HWADDR=00:0C:29:17:01:FC</span><br><span class="line">ONBOOT=yes</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">IPADDR=192.168.110.128 #网段限制在110所以IP地址变了</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.110.2 #按照NAT设置中的网关地址设置</span><br><span class="line">BROADCAST=192.168.110.255</span><br><span class="line">DNS1=192.168.110.2</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">NM_CONTROLLED=yes</span><br></pre></td></tr></tbody></table></figure><h5 id="4、修改第二个配置文件-1"><a href="#4、修改第二个配置文件-1" class="headerlink" title="4、修改第二个配置文件"></a>4、修改第二个配置文件</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/sysconfig/network</span><br></pre></td></tr></tbody></table></figure><p>按如下改动：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NETWORKING=yes</span><br><span class="line">NETWORKING_IPV6=no</span><br><span class="line">HOSTNAME=localhost.localdomain</span><br><span class="line">GATEWAY=192.168.110.2</span><br></pre></td></tr></tbody></table></figure><h5 id="5、修改第三个配置文件-1"><a href="#5、修改第三个配置文件-1" class="headerlink" title="5、修改第三个配置文件"></a>5、修改第三个配置文件</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/resolv.conf</span><br></pre></td></tr></tbody></table></figure><p>按如下改动：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">search localdomain</span><br><span class="line">nameserver 8.8.8.8</span><br><span class="line">nameserver 192.168.110.2</span><br></pre></td></tr></tbody></table></figure><h5 id="6、修改完毕之后重启网络服务-1"><a href="#6、修改完毕之后重启网络服务-1" class="headerlink" title="6、修改完毕之后重启网络服务"></a>6、修改完毕之后重启网络服务</h5><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# service network restart</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
